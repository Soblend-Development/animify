import I,{forwardRef,useRef,useEffect,useCallback,useState}from'react';import {AnimationController,GestureManager,Spring,ScrollAnimation}from'@soblend/animify-core';export*from'@soblend/animify-core';function K(t,o){let e=useRef(null),r=useRef(null);useEffect(()=>{e.current&&!r.current&&(r.current=new AnimationController(e.current));},[]);let s=useCallback(()=>{r.current&&r.current.animate(t,o);},[t,o]),u=useCallback(()=>{r.current?.stop();},[]),i=useCallback(()=>{r.current?.pause();},[]),l=useCallback(()=>{r.current?.play();},[]),m=useCallback(()=>{r.current?.reverse();},[]);return {ref:e,animate:s,stop:u,pause:i,play:l,reverse:m,controller:r.current}}function j(t,o,e){let[r,s]=useState(t),u=useRef(null),i=useRef(null);return useEffect(()=>{u.current=new Spring(t,o,e);let l=()=>{if(!u.current)return;let m=u.current.update(.016);s(m),u.current.isAtRest()||(i.current=requestAnimationFrame(l));};return i.current=requestAnimationFrame(l),()=>{i.current!==null&&cancelAnimationFrame(i.current);}},[t,o,e]),r}function N(t){let o=useRef(null),e=useRef(null);return useEffect(()=>{if(o.current)return e.current=new GestureManager(o.current,t),()=>{e.current?.destroy();}},[t]),o}function D(t,o){let e=useRef(null),r=useRef(null);return useEffect(()=>{if(e.current)return r.current=new ScrollAnimation(e.current,t,o),()=>{r.current?.destroy();}},[t,o]),e}var S=forwardRef(({as:t="div",initial:o,animate:e,animationConfig:r,gesture:s,whileHover:u,whileTap:i,children:l,style:m,...b},a)=>{let y=useRef(null),c=useRef(null),E=useRef(null);useEffect(()=>{let n=y.current;if(!n)return;e&&(c.current=new AnimationController(n),c.current.animate(e,r)),s&&(E.current=new GestureManager(n,s));let d=()=>{u&&c.current&&c.current.animate(u,{duration:200});},v=()=>{c.current&&c.current.reverse();},M=()=>{i&&c.current&&c.current.animate(i,{duration:100});},R=()=>{c.current&&c.current.reverse();};return u&&(n.addEventListener("mouseenter",d),n.addEventListener("mouseleave",v)),i&&(n.addEventListener("pointerdown",M),n.addEventListener("pointerup",R)),()=>{E.current?.destroy(),u&&(n.removeEventListener("mouseenter",d),n.removeEventListener("mouseleave",v)),i&&(n.removeEventListener("pointerdown",M),n.removeEventListener("pointerup",R));}},[e,r,s,u,i]);let x=n=>{y.current=n,typeof a=="function"?a(n):a&&(a.current=n);};return I.createElement(t,{...b,ref:x,style:{...o,...m}},l)});S.displayName="Motion";export{S as Motion,K as useAnimation,N as useGesture,D as useScroll,j as useSpring};//# sourceMappingURL=index.mjs.map
//# sourceMappingURL=index.mjs.map