{"version":3,"sources":["../src/useAnimation.ts","../src/useSpring.ts","../src/useGesture.ts","../src/useScroll.ts","../src/Motion.tsx"],"names":["useAnimation","keyframes","config","ref","useRef","controllerRef","useEffect","AnimationController","animate","useCallback","stop","pause","play","reverse","useSpring","initialValue","targetValue","value","setValue","useState","springRef","rafRef","Spring","newValue","useGesture","gestureRef","GestureManager","useScroll","scrollAnimRef","ScrollAnimation","Motion","forwardRef","Component","initial","animationConfig","gesture","whileHover","whileTap","children","style","props","forwardedRef","internalRef","element","hoverEnterHandler","hoverLeaveHandler","tapDownHandler","tapUpHandler","refCallback","node","React"],"mappings":"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","file":"index.mjs","sourcesContent":["import { useEffect, useRef, useCallback } from 'react';\nimport { AnimationController } from '@soblend/animify-core';\nimport type { Keyframe, AnimationConfig } from '@soblend/animify-core';\n\nexport function useAnimation(\n  keyframes: Keyframe[],\n  config?: AnimationConfig\n) {\n  const ref = useRef<HTMLElement>(null);\n  const controllerRef = useRef<AnimationController | null>(null);\n\n  useEffect(() => {\n    if (ref.current && !controllerRef.current) {\n      controllerRef.current = new AnimationController(ref.current);\n    }\n  }, []);\n\n  const animate = useCallback(() => {\n    if (controllerRef.current) {\n      controllerRef.current.animate(keyframes, config);\n    }\n  }, [keyframes, config]);\n\n  const stop = useCallback(() => {\n    controllerRef.current?.stop();\n  }, []);\n\n  const pause = useCallback(() => {\n    controllerRef.current?.pause();\n  }, []);\n\n  const play = useCallback(() => {\n    controllerRef.current?.play();\n  }, []);\n\n  const reverse = useCallback(() => {\n    controllerRef.current?.reverse();\n  }, []);\n\n  return {\n    ref,\n    animate,\n    stop,\n    pause,\n    play,\n    reverse,\n    controller: controllerRef.current,\n  };\n}\n","import { useState, useEffect, useRef } from 'react';\nimport { Spring } from '@soblend/animify-core';\nimport type { SpringConfig } from '@soblend/animify-core';\n\nexport function useSpring(\n  initialValue: number,\n  targetValue: number,\n  config?: SpringConfig\n) {\n  const [value, setValue] = useState(initialValue);\n  const springRef = useRef<Spring | null>(null);\n  const rafRef = useRef<number | null>(null);\n\n  useEffect(() => {\n    springRef.current = new Spring(initialValue, targetValue, config);\n\n    const animate = () => {\n      if (!springRef.current) return;\n\n      const newValue = springRef.current.update(0.016);\n      setValue(newValue);\n\n      if (!springRef.current.isAtRest()) {\n        rafRef.current = requestAnimationFrame(animate);\n      }\n    };\n\n    rafRef.current = requestAnimationFrame(animate);\n\n    return () => {\n      if (rafRef.current !== null) {\n        cancelAnimationFrame(rafRef.current);\n      }\n    };\n  }, [initialValue, targetValue, config]);\n\n  return value;\n}\n","import { useEffect, useRef } from 'react';\nimport { GestureManager } from '@soblend/animify-core';\nimport type { GestureConfig } from '@soblend/animify-core';\n\nexport function useGesture(config: GestureConfig) {\n  const ref = useRef<HTMLElement>(null);\n  const gestureRef = useRef<GestureManager | null>(null);\n\n  useEffect(() => {\n    if (ref.current) {\n      gestureRef.current = new GestureManager(ref.current, config);\n\n      return () => {\n        gestureRef.current?.destroy();\n      };\n    }\n  }, [config]);\n\n  return ref;\n}\n","import { useEffect, useRef } from 'react';\nimport { ScrollAnimation } from '@soblend/animify-core';\nimport type { Keyframe, ScrollAnimationConfig } from '@soblend/animify-core';\n\nexport function useScroll(\n  keyframes: Keyframe[],\n  config?: ScrollAnimationConfig\n) {\n  const ref = useRef<HTMLElement>(null);\n  const scrollAnimRef = useRef<ScrollAnimation | null>(null);\n\n  useEffect(() => {\n    if (ref.current) {\n      scrollAnimRef.current = new ScrollAnimation(ref.current, keyframes, config);\n\n      return () => {\n        scrollAnimRef.current?.destroy();\n      };\n    }\n  }, [keyframes, config]);\n\n  return ref;\n}\n","import React, { useRef, useEffect, forwardRef } from 'react';\nimport { AnimationController } from '@soblend/animify-core';\nimport type { Keyframe, AnimationConfig, GestureConfig } from '@soblend/animify-core';\nimport { GestureManager } from '@soblend/animify-core';\n\ninterface MotionProps extends React.HTMLAttributes<HTMLElement> {\n  as?: keyof JSX.IntrinsicElements;\n  initial?: React.CSSProperties;\n  animate?: Keyframe[];\n  animationConfig?: AnimationConfig;\n  gesture?: GestureConfig;\n  whileHover?: Keyframe[];\n  whileTap?: Keyframe[];\n  children?: React.ReactNode;\n}\n\nexport const Motion = forwardRef<HTMLElement, MotionProps>(\n  (\n    {\n      as: Component = 'div',\n      initial,\n      animate,\n      animationConfig,\n      gesture,\n      whileHover,\n      whileTap,\n      children,\n      style,\n      ...props\n    },\n    forwardedRef\n  ) => {\n    const internalRef = useRef<HTMLElement>(null);\n    const controllerRef = useRef<AnimationController | null>(null);\n    const gestureRef = useRef<GestureManager | null>(null);\n\n    useEffect(() => {\n      const element = internalRef.current;\n      if (!element) return;\n\n      if (animate) {\n        controllerRef.current = new AnimationController(element);\n        controllerRef.current.animate(animate, animationConfig);\n      }\n\n      if (gesture) {\n        gestureRef.current = new GestureManager(element, gesture);\n      }\n\n      const hoverEnterHandler = () => {\n        if (whileHover && controllerRef.current) {\n          controllerRef.current.animate(whileHover, { duration: 200 });\n        }\n      };\n\n      const hoverLeaveHandler = () => {\n        if (controllerRef.current) {\n          controllerRef.current.reverse();\n        }\n      };\n\n      const tapDownHandler = () => {\n        if (whileTap && controllerRef.current) {\n          controllerRef.current.animate(whileTap, { duration: 100 });\n        }\n      };\n\n      const tapUpHandler = () => {\n        if (controllerRef.current) {\n          controllerRef.current.reverse();\n        }\n      };\n\n      if (whileHover) {\n        element.addEventListener('mouseenter', hoverEnterHandler);\n        element.addEventListener('mouseleave', hoverLeaveHandler);\n      }\n\n      if (whileTap) {\n        element.addEventListener('pointerdown', tapDownHandler);\n        element.addEventListener('pointerup', tapUpHandler);\n      }\n\n      return () => {\n        gestureRef.current?.destroy();\n        if (whileHover) {\n          element.removeEventListener('mouseenter', hoverEnterHandler);\n          element.removeEventListener('mouseleave', hoverLeaveHandler);\n        }\n        if (whileTap) {\n          element.removeEventListener('pointerdown', tapDownHandler);\n          element.removeEventListener('pointerup', tapUpHandler);\n        }\n      };\n    }, [animate, animationConfig, gesture, whileHover, whileTap]);\n\n    const refCallback = (node: HTMLElement | null): void => {\n      (internalRef as React.MutableRefObject<HTMLElement | null>).current = node;\n      if (typeof forwardedRef === 'function') {\n        forwardedRef(node);\n      } else if (forwardedRef) {\n        (forwardedRef as React.MutableRefObject<HTMLElement | null>).current = node;\n      }\n    };\n\n    return React.createElement(\n      Component,\n      {\n        ...props,\n        ref: refCallback,\n        style: { ...initial, ...style },\n      },\n      children\n    );\n  }\n);\n\nMotion.displayName = 'Motion';\n"]}