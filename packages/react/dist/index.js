'use strict';var I=require('react'),animifyCore=require('@soblend/animify-core');function _interopDefault(e){return e&&e.__esModule?e:{default:e}}var I__default=/*#__PURE__*/_interopDefault(I);function K(t,o){let e=I.useRef(null),r=I.useRef(null);I.useEffect(()=>{e.current&&!r.current&&(r.current=new animifyCore.AnimationController(e.current));},[]);let s=I.useCallback(()=>{r.current&&r.current.animate(t,o);},[t,o]),u=I.useCallback(()=>{r.current?.stop();},[]),i=I.useCallback(()=>{r.current?.pause();},[]),l=I.useCallback(()=>{r.current?.play();},[]),m=I.useCallback(()=>{r.current?.reverse();},[]);return {ref:e,animate:s,stop:u,pause:i,play:l,reverse:m,controller:r.current}}function j(t,o,e){let[r,s]=I.useState(t),u=I.useRef(null),i=I.useRef(null);return I.useEffect(()=>{u.current=new animifyCore.Spring(t,o,e);let l=()=>{if(!u.current)return;let m=u.current.update(.016);s(m),u.current.isAtRest()||(i.current=requestAnimationFrame(l));};return i.current=requestAnimationFrame(l),()=>{i.current!==null&&cancelAnimationFrame(i.current);}},[t,o,e]),r}function N(t){let o=I.useRef(null),e=I.useRef(null);return I.useEffect(()=>{if(o.current)return e.current=new animifyCore.GestureManager(o.current,t),()=>{e.current?.destroy();}},[t]),o}function D(t,o){let e=I.useRef(null),r=I.useRef(null);return I.useEffect(()=>{if(e.current)return r.current=new animifyCore.ScrollAnimation(e.current,t,o),()=>{r.current?.destroy();}},[t,o]),e}var S=I.forwardRef(({as:t="div",initial:o,animate:e,animationConfig:r,gesture:s,whileHover:u,whileTap:i,children:l,style:m,...b},a)=>{let y=I.useRef(null),c=I.useRef(null),E=I.useRef(null);I.useEffect(()=>{let n=y.current;if(!n)return;e&&(c.current=new animifyCore.AnimationController(n),c.current.animate(e,r)),s&&(E.current=new animifyCore.GestureManager(n,s));let d=()=>{u&&c.current&&c.current.animate(u,{duration:200});},v=()=>{c.current&&c.current.reverse();},M=()=>{i&&c.current&&c.current.animate(i,{duration:100});},R=()=>{c.current&&c.current.reverse();};return u&&(n.addEventListener("mouseenter",d),n.addEventListener("mouseleave",v)),i&&(n.addEventListener("pointerdown",M),n.addEventListener("pointerup",R)),()=>{E.current?.destroy(),u&&(n.removeEventListener("mouseenter",d),n.removeEventListener("mouseleave",v)),i&&(n.removeEventListener("pointerdown",M),n.removeEventListener("pointerup",R));}},[e,r,s,u,i]);let x=n=>{y.current=n,typeof a=="function"?a(n):a&&(a.current=n);};return I__default.default.createElement(t,{...b,ref:x,style:{...o,...m}},l)});S.displayName="Motion";exports.Motion=S;exports.useAnimation=K;exports.useGesture=N;exports.useScroll=D;exports.useSpring=j;Object.keys(animifyCore).forEach(function(k){if(k!=='default'&&!Object.prototype.hasOwnProperty.call(exports,k))Object.defineProperty(exports,k,{enumerable:true,get:function(){return animifyCore[k]}})});//# sourceMappingURL=index.js.map
//# sourceMappingURL=index.js.map