{"version":3,"sources":["../src/useAnimation.ts","../src/useSpring.ts","../src/useGesture.ts","../src/directives.ts"],"names":["useAnimation","keyframes","config","elementRef","ref","controller","onMounted","AnimationController","onUnmounted","useSpring","initialValue","targetValue","value","spring","rafId","startAnimation","Spring","animate","watch","useGesture","gestureManager","GestureManager","vAnimate","el","binding","vGesture"],"mappings":"iFAIO,SAASA,CAAAA,CAAaC,CAAAA,CAAuBC,EAA0B,CAC5E,IAAMC,CAAAA,CAAsCC,OAAAA,CAAI,IAAI,CAAA,CAChDC,CAAAA,CAAyC,IAAA,CAE7C,OAAAC,aAAAA,CAAU,IAAM,CACVH,CAAAA,CAAW,QACbE,CAAAA,CAAa,IAAIE,+BAAAA,CAAoBJ,CAAAA,CAAW,KAAK,CAAA,CACrDE,CAAAA,CAAW,OAAA,CAAQJ,CAAAA,CAAWC,CAAM,CAAA,EAExC,CAAC,CAAA,CAEDM,gBAAY,IAAM,CAChBH,CAAAA,EAAY,IAAA,GACd,CAAC,CAAA,CAsBM,CACL,UAAA,CAAAF,EACA,OAAA,CAtBc,IAAM,CACpBE,CAAAA,EAAY,QAAQJ,CAAAA,CAAWC,CAAM,EACvC,CAAA,CAqBE,KAnBW,IAAM,CACjBG,CAAAA,EAAY,IAAA,GACd,CAAA,CAkBE,KAAA,CAhBY,IAAM,CAClBA,GAAY,KAAA,GACd,CAAA,CAeE,IAAA,CAbW,IAAM,CACjBA,CAAAA,EAAY,IAAA,GACd,CAAA,CAYE,OAAA,CAVc,IAAM,CACpBA,GAAY,OAAA,GACd,CASA,CACF,CC3CO,SAASI,CAAAA,CACdC,CAAAA,CACAC,CAAAA,CACAT,EACA,CACA,IAAMU,CAAAA,CAAQR,OAAAA,CAAIM,CAAY,CAAA,CAC1BG,CAAAA,CAAwB,IAAA,CACxBC,EAAuB,IAAA,CAErBC,CAAAA,CAAiB,IAAM,CAC3BF,EAAS,IAAIG,kBAAAA,CAAOJ,CAAAA,CAAM,KAAA,CAAOD,EAAaT,CAAM,CAAA,CAEpD,IAAMe,CAAAA,CAAU,IAAM,CACfJ,CAAAA,GAELD,CAAAA,CAAM,KAAA,CAAQC,EAAO,MAAA,CAAO,IAAK,CAAA,CAE5BA,CAAAA,CAAO,UAAS,GACnBC,CAAAA,CAAQ,qBAAA,CAAsBG,CAAO,IAEzC,CAAA,CAEAH,CAAAA,CAAQ,qBAAA,CAAsBG,CAAO,EACvC,CAAA,CAEA,OAAAX,aAAAA,CAAU,IAAM,CACdS,CAAAA,GACF,CAAC,EAEDG,SAAAA,CAAM,IAAMP,CAAAA,CAAa,IAAM,CACzBG,CAAAA,GAAU,IAAA,EACZ,oBAAA,CAAqBA,CAAK,CAAA,CAE5BC,CAAAA,GACF,CAAC,EAEDP,eAAAA,CAAY,IAAM,CACZM,CAAAA,GAAU,MACZ,oBAAA,CAAqBA,CAAK,EAE9B,CAAC,EAEMF,CACT,CC3CO,SAASO,CAAAA,CAAWjB,CAAAA,CAAuB,CAChD,IAAMC,CAAAA,CAAsCC,OAAAA,CAAI,IAAI,CAAA,CAChDgB,EAAwC,IAAA,CAE5C,OAAAd,aAAAA,CAAU,IAAM,CACVH,CAAAA,CAAW,KAAA,GACbiB,CAAAA,CAAiB,IAAIC,2BAAelB,CAAAA,CAAW,KAAA,CAAOD,CAAM,CAAA,EAEhE,CAAC,CAAA,CAEDM,eAAAA,CAAY,IAAM,CAChBY,CAAAA,EAAgB,OAAA,GAClB,CAAC,EAEMjB,CACT,CCVO,IAAMmB,EAAmD,CAC9D,OAAA,CAAQC,CAAAA,CAAIC,CAAAA,CAAS,CACnB,GAAM,CAAE,SAAA,CAAAvB,EAAW,MAAA,CAAAC,CAAO,CAAA,CAAIsB,CAAAA,CAAQ,MACnB,IAAIjB,+BAAAA,CAAoBgB,CAAE,CAAA,CAClC,QAAQtB,CAAAA,CAAWC,CAAM,EACtC,CACF,CAAA,CAEauB,CAAAA,CAAkD,CAC7D,OAAA,CAAQF,EAAIC,CAAAA,CAAS,CACnB,IAAMJ,CAAAA,CAAiB,IAAIC,0BAAAA,CAAeE,CAAAA,CAAIC,CAAAA,CAAQ,KAAK,EAC1DD,CAAAA,CAAW,kBAAA,CAAqBH,EACnC,CAAA,CACA,UAAUG,CAAAA,CAAI,CACZ,IAAMH,CAAAA,CAAkBG,EAAW,kBAAA,CAC/BH,CAAAA,GACFA,CAAAA,CAAe,OAAA,GACf,OAAQG,CAAAA,CAAW,kBAAA,EAEvB,CACF","file":"index.js","sourcesContent":["import { ref, onMounted, onUnmounted, type Ref } from 'vue';\nimport { AnimationController } from '@soblend/animify-core';\nimport type { Keyframe, AnimationConfig } from '@soblend/animify-core';\n\nexport function useAnimation(keyframes: Keyframe[], config?: AnimationConfig) {\n  const elementRef: Ref<HTMLElement | null> = ref(null);\n  let controller: AnimationController | null = null;\n\n  onMounted(() => {\n    if (elementRef.value) {\n      controller = new AnimationController(elementRef.value);\n      controller.animate(keyframes, config);\n    }\n  });\n\n  onUnmounted(() => {\n    controller?.stop();\n  });\n\n  const animate = () => {\n    controller?.animate(keyframes, config);\n  };\n\n  const stop = () => {\n    controller?.stop();\n  };\n\n  const pause = () => {\n    controller?.pause();\n  };\n\n  const play = () => {\n    controller?.play();\n  };\n\n  const reverse = () => {\n    controller?.reverse();\n  };\n\n  return {\n    elementRef,\n    animate,\n    stop,\n    pause,\n    play,\n    reverse,\n  };\n}\n","import { ref, onMounted, onUnmounted, watch } from 'vue';\nimport { Spring } from '@soblend/animify-core';\nimport type { SpringConfig } from '@soblend/animify-core';\n\nexport function useSpring(\n  initialValue: number,\n  targetValue: number,\n  config?: SpringConfig\n) {\n  const value = ref(initialValue);\n  let spring: Spring | null = null;\n  let rafId: number | null = null;\n\n  const startAnimation = () => {\n    spring = new Spring(value.value, targetValue, config);\n\n    const animate = () => {\n      if (!spring) return;\n\n      value.value = spring.update(0.016);\n\n      if (!spring.isAtRest()) {\n        rafId = requestAnimationFrame(animate);\n      }\n    };\n\n    rafId = requestAnimationFrame(animate);\n  };\n\n  onMounted(() => {\n    startAnimation();\n  });\n\n  watch(() => targetValue, () => {\n    if (rafId !== null) {\n      cancelAnimationFrame(rafId);\n    }\n    startAnimation();\n  });\n\n  onUnmounted(() => {\n    if (rafId !== null) {\n      cancelAnimationFrame(rafId);\n    }\n  });\n\n  return value;\n}\n","import { ref, onMounted, onUnmounted, type Ref } from 'vue';\nimport { GestureManager } from '@soblend/animify-core';\nimport type { GestureConfig } from '@soblend/animify-core';\n\nexport function useGesture(config: GestureConfig) {\n  const elementRef: Ref<HTMLElement | null> = ref(null);\n  let gestureManager: GestureManager | null = null;\n\n  onMounted(() => {\n    if (elementRef.value) {\n      gestureManager = new GestureManager(elementRef.value, config);\n    }\n  });\n\n  onUnmounted(() => {\n    gestureManager?.destroy();\n  });\n\n  return elementRef;\n}\n","import type { Directive } from 'vue';\nimport { AnimationController, GestureManager } from '@soblend/animify-core';\nimport type { Keyframe, AnimationConfig, GestureConfig } from '@soblend/animify-core';\n\ninterface AnimateBinding {\n  keyframes: Keyframe[];\n  config?: AnimationConfig;\n}\n\nexport const vAnimate: Directive<HTMLElement, AnimateBinding> = {\n  mounted(el, binding) {\n    const { keyframes, config } = binding.value;\n    const controller = new AnimationController(el);\n    controller.animate(keyframes, config);\n  },\n};\n\nexport const vGesture: Directive<HTMLElement, GestureConfig> = {\n  mounted(el, binding) {\n    const gestureManager = new GestureManager(el, binding.value);\n    (el as any).__gestureManager__ = gestureManager;\n  },\n  unmounted(el) {\n    const gestureManager = (el as any).__gestureManager__;\n    if (gestureManager) {\n      gestureManager.destroy();\n      delete (el as any).__gestureManager__;\n    }\n  },\n};\n"]}