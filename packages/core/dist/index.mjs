var u=class{element;animation=null;rafId=null;constructor(t){this.element=t;}animate(t,r={}){let n=this.processKeyframes(t),i=this.processOptions(r);if("animate"in this.element)return this.animation=this.element.animate(n,i),this.animation;throw new Error("Web Animations API not supported")}processKeyframes(t){return t.map(r=>{let n={...r};return delete n.easing,n})}processOptions(t){let r={duration:t.duration??300,delay:t.delay??0,iterations:t.iterations??1,direction:t.direction??"normal",fill:t.fill??"both",endDelay:t.endDelay??0};return typeof t.easing=="string"?r.easing=t.easing:r.easing="linear",r}animateWithCustomEasing(t,r,n,i,o=300){return new Promise(s=>{let m=performance.now(),c=r-t,a=l=>{let f=l-m,b=Math.min(f/o,1),g=i(b),v=t+c*g;this.element.style.setProperty(n,`${v}px`),b<1?this.rafId=requestAnimationFrame(a):s();};this.rafId=requestAnimationFrame(a);})}stop(){this.animation&&(this.animation.cancel(),this.animation=null),this.rafId!==null&&(cancelAnimationFrame(this.rafId),this.rafId=null);}pause(){this.animation&&this.animation.pause();}play(){this.animation&&this.animation.play();}reverse(){this.animation&&this.animation.reverse();}finish(){this.animation&&this.animation.finish();}get currentTime(){return this.animation?.currentTime}set currentTime(t){this.animation&&t!==null&&(this.animation.currentTime=t);}};function S(e,t,r){let n=typeof e=="string"?document.querySelector(e):e;if(!n)throw new Error("Element not found");let i=new u(n);return i.animate(t,r),i}var h={linear:e=>e,easeIn:e=>e*e,easeOut:e=>e*(2-e),easeInOut:e=>e<.5?2*e*e:-1+(4-2*e)*e,easeInCubic:e=>e*e*e,easeOutCubic:e=>--e*e*e+1,easeInOutCubic:e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1- --e*e*e*e,easeInOutQuart:e=>e<.5?8*e*e*e*e:1-8*--e*e*e*e,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1+--e*e*e*e*e,easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e,easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>e===0||e===1?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>1-Math.sqrt(1-e*e),easeOutCirc:e=>Math.sqrt(1- --e*e),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-4*e*e))/2:(Math.sqrt(1-4*(e-1)*(e-1))+1)/2,easeInBack:e=>e*e*(2.70158*e-1.70158),easeOutBack:e=>1+--e*e*(2.70158*e+1.70158),easeInOutBack:e=>{let t=2.5949095;return e<.5?2*e*2*e*((t+1)*2*e-t)/2:((2*e-2)*(2*e-2)*((t+1)*(2*e-2)+t)+2)/2},easeInElastic:e=>{if(e===0||e===1)return e;let t=2*Math.PI/3;return -Math.pow(2,10*e-10)*Math.sin((e*10-10.75)*t)},easeOutElastic:e=>{if(e===0||e===1)return e;let t=2*Math.PI/3;return Math.pow(2,-10*e)*Math.sin((e*10-.75)*t)+1},easeInOutElastic:e=>{if(e===0||e===1)return e;let t=2*Math.PI/4.5;return e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*t))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*t)/2+1},easeInBounce:e=>1-h.easeOutBounce(1-e),easeOutBounce:e=>e<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375,easeInOutBounce:e=>e<.5?h.easeInBounce(2*e)/2:(1+h.easeOutBounce(2*e-1))/2,cubicBezier:(e,t,r,n)=>{let i=(a,l)=>1-3*l+3*a,o=(a,l)=>3*l-6*a,s=a=>3*a,m=(a,l,f)=>((i(l,f)*a+o(l,f))*a+s(l))*a,c=(a,l,f)=>3*i(l,f)*a*a+2*o(l,f)*a+s(l);return a=>{if(a===0||a===1)return a;let l,f=a,b=4;for(let g=0;g<b;++g){l=m(f,e,r)-a;let v=c(f,e,r);if(v===0)return f;f-=l/v;}return m(f,t,n)}}},C={smooth:h.cubicBezier(.4,0,.2,1),snappy:h.cubicBezier(.4,0,.6,1),bouncy:h.easeOutBounce,elastic:h.easeOutElastic};var y=class{stiffness;damping;mass;velocity;restSpeed;restDelta;position;target;prevTime;constructor(t,r,n={}){this.stiffness=n.stiffness??100,this.damping=n.damping??10,this.mass=n.mass??1,this.velocity=n.velocity??0,this.restSpeed=n.restSpeed??.001,this.restDelta=n.restDelta??.001,this.position=t,this.target=r,this.prevTime=performance.now();}update(t){let r=-this.stiffness*(this.position-this.target),n=-this.damping*this.velocity,i=(r+n)/this.mass;return this.velocity+=i*t,this.position+=this.velocity*t,this.position}isAtRest(){return Math.abs(this.velocity)<this.restSpeed&&Math.abs(this.position-this.target)<this.restDelta}getValue(){return this.position}setTarget(t){this.target=t;}setVelocity(t){this.velocity=t;}},M=class{velocity;power;timeConstant;modifyTarget;amplitude;target;constructor(t,r={}){this.velocity=t,this.power=r.power??.8,this.timeConstant=r.timeConstant??350,this.modifyTarget=r.modifyTarget,this.amplitude=this.power*this.velocity,this.target=this.modifyTarget?this.modifyTarget(this.amplitude):this.amplitude;}update(t,r){let n=this.target*(1-Math.exp(-t/this.timeConstant));return r+n}getVelocity(t){return this.amplitude*Math.exp(-t/this.timeConstant)}isComplete(t){return Math.abs(this.getVelocity(t))<.01}};function P(e={}){let t=e.stiffness??100,r=e.damping??10,n=e.mass??1,i=r/(2*Math.sqrt(t*n));if(i<1){let s=Math.sqrt(t/n)*Math.sqrt(1-i*i);return 2*Math.PI*5/s}return 1e3}function A(e,t,r={}){let n=new y(e,t,r),i=P(r),o=[],s=60;for(let m=0;m<=s;m++){let c=m/s,a=i*c/1e3;n.update(a),o.push({value:n.getValue(),offset:c});}return o}var T=class{element;config;isDragging=false;startPoint={x:0,y:0};currentPoint={x:0,y:0};offset={x:0,y:0};velocity={x:0,y:0};lastTime=0;lastPoint={x:0,y:0};constructor(t,r={}){this.element=t,this.config=r,this.setupEventListeners();}setupEventListeners(){this.config.drag&&this.element.addEventListener("pointerdown",this.onPointerDown),this.config.tap&&this.element.addEventListener("click",this.onTap),this.config.hover&&(this.element.addEventListener("pointerenter",this.onHoverStart),this.element.addEventListener("pointerleave",this.onHoverEnd));}onPointerDown=t=>{this.config.drag&&(this.isDragging=true,this.startPoint={x:t.clientX,y:t.clientY},this.currentPoint={...this.startPoint},this.lastPoint={...this.startPoint},this.lastTime=performance.now(),this.element.setPointerCapture(t.pointerId),document.addEventListener("pointermove",this.onPointerMove),document.addEventListener("pointerup",this.onPointerUp),this.config.onDragStart&&this.config.onDragStart(t));};onPointerMove=t=>{if(!this.isDragging)return;let r=performance.now(),n=Math.max(r-this.lastTime,1);this.currentPoint={x:t.clientX,y:t.clientY};let i={x:this.currentPoint.x-this.lastPoint.x,y:this.currentPoint.y-this.lastPoint.y};this.velocity={x:i.x/n,y:i.y/n},this.offset={x:this.currentPoint.x-this.startPoint.x,y:this.currentPoint.y-this.startPoint.y},this.config.drag==="x"?(this.offset.y=0,i.y=0):this.config.drag==="y"&&(this.offset.x=0,i.x=0),this.config.dragConstraints&&this.applyConstraints(),this.config.dragElastic&&this.applyElasticity();let o={point:{...this.currentPoint},delta:i,offset:{...this.offset},velocity:{...this.velocity}};this.config.onDrag&&this.config.onDrag(t,o),this.element.style.transform=`translate(${this.offset.x}px, ${this.offset.y}px)`,this.lastPoint={...this.currentPoint},this.lastTime=r;};onPointerUp=t=>{if(!this.isDragging)return;this.isDragging=false,document.removeEventListener("pointermove",this.onPointerMove),document.removeEventListener("pointerup",this.onPointerUp);let r={point:{...this.currentPoint},delta:{x:0,y:0},offset:{...this.offset},velocity:{...this.velocity}};this.config.onDragEnd&&this.config.onDragEnd(t,r),this.config.dragMomentum&&this.applyMomentum();};applyConstraints(){let t=this.config.dragConstraints;t.left!==void 0&&this.offset.x<t.left&&(this.offset.x=t.left),t.right!==void 0&&this.offset.x>t.right&&(this.offset.x=t.right),t.top!==void 0&&this.offset.y<t.top&&(this.offset.y=t.top),t.bottom!==void 0&&this.offset.y>t.bottom&&(this.offset.y=t.bottom);}applyElasticity(){let t=this.config.dragElastic??.5;this.offset.x*=t,this.offset.y*=t;}applyMomentum(){let r=this.velocity.x*1e3,n=this.velocity.y*1e3,i=()=>{r*=.95,n*=.95,this.offset.x+=r*.016,this.offset.y+=n*.016,this.element.style.transform=`translate(${this.offset.x}px, ${this.offset.y}px)`,(Math.abs(r)>.1||Math.abs(n)>.1)&&requestAnimationFrame(i);};requestAnimationFrame(i);}onTap=t=>{this.config.onTap&&this.config.onTap(t);};onHoverStart=t=>{this.config.onHoverStart&&this.config.onHoverStart(t);};onHoverEnd=t=>{this.config.onHoverEnd&&this.config.onHoverEnd(t);};destroy(){this.element.removeEventListener("pointerdown",this.onPointerDown),this.element.removeEventListener("click",this.onTap),this.element.removeEventListener("pointerenter",this.onHoverStart),this.element.removeEventListener("pointerleave",this.onHoverEnd),document.removeEventListener("pointermove",this.onPointerMove),document.removeEventListener("pointerup",this.onPointerUp);}};function D(e,t){let r=typeof e=="string"?document.querySelector(e):e;if(!r)throw new Error("Element not found");return new T(r,t)}var x=class{items=[];totalDuration=0;currentTime=0;isPlaying=false;rafId=null;startTimestamp=0;speed=1;add(t){let r=Array.isArray(t.target)?t.target:[t.target],n=this.parseOffset(t.offset??0),i=t.options?.duration??300;return r.forEach(o=>{let s=new u(o),m=s.animate(t.keyframes,t.options);m.pause(),m.currentTime=0,this.items.push({controller:s,startTime:n,duration:i});let c=n+i;c>this.totalDuration&&(this.totalDuration=c);}),this}parseOffset(t){if(typeof t=="number")return t;if(t==="<")return Math.max(0,this.totalDuration-300);if(t.startsWith("<")||t.startsWith(">")){let r=parseFloat(t.slice(1));return t.startsWith("<")?Math.max(0,this.totalDuration+r):this.totalDuration+r}if(t.includes("%")){let r=parseFloat(t)/100;return this.totalDuration*r}return parseFloat(t)}play(){if(this.isPlaying)return;this.isPlaying=true,this.startTimestamp=performance.now()-this.currentTime;let t=r=>{this.isPlaying&&(this.currentTime=(r-this.startTimestamp)*this.speed,this.items.forEach(({controller:n,startTime:i,duration:o})=>{let s=this.currentTime-i;s>=0&&s<=o&&(n.currentTime=s);}),this.currentTime<this.totalDuration?this.rafId=requestAnimationFrame(t):(this.isPlaying=false,this.currentTime=this.totalDuration));};this.rafId=requestAnimationFrame(t);}pause(){this.isPlaying=false,this.rafId!==null&&(cancelAnimationFrame(this.rafId),this.rafId=null);}stop(){this.pause(),this.currentTime=0,this.items.forEach(({controller:t})=>t.stop());}restart(){this.stop(),this.play();}seek(t){this.currentTime=Math.max(0,Math.min(t,this.totalDuration)),this.items.forEach(({controller:r,startTime:n,duration:i})=>{let o=this.currentTime-n;o>=0&&o<=i&&(r.currentTime=o);});}setSpeed(t){this.speed=t;}getDuration(){return this.totalDuration}getCurrentTime(){return this.currentTime}getProgress(){return this.totalDuration>0?this.currentTime/this.totalDuration:0}};function I(){return new x}var E=class{element;config;controller;scrollSource;startValue;endValue;isActive=false;constructor(t,r,n={}){this.element=t,this.config=n,this.controller=new u(t),this.scrollSource=n.scrollSource??document.documentElement,this.startValue=this.parseScrollValue(n.start??0),this.endValue=this.parseScrollValue(n.end??"100%"),this.setupScrollListener(r);}parseScrollValue(t){if(typeof t=="number")return t;if(t.includes("%")){let r=parseFloat(t)/100;return (this.scrollSource.scrollHeight-this.scrollSource.clientHeight)*r}if(t.includes("vh")){let r=parseFloat(t);return window.innerHeight*r/100}return parseFloat(t)}setupScrollListener(t){let r=this.controller.animate(t,{...this.config,duration:1e3,fill:"both"});r.pause();let n=()=>{let i=this.scrollSource.scrollTop||window.scrollY,o=this.calculateProgress(i);if(this.config.scrub){let s=typeof this.config.scrub=="number"?this.config.scrub:0,m=o*1e3,c=r.currentTime||0,a=c+(m-c)*(1-s);r.currentTime=a;}else r.currentTime=o*1e3;};this.scrollSource.addEventListener("scroll",n,{passive:true}),window.addEventListener("resize",n,{passive:true}),n(),this.isActive=true;}calculateProgress(t){return t<=this.startValue?0:t>=this.endValue?1:(t-this.startValue)/(this.endValue-this.startValue)}destroy(){this.controller.stop(),this.isActive=false;}};function L(e,t,r){let n=typeof e=="string"?document.querySelector(e):e;if(!n)throw new Error("Element not found");return new E(n,t,r)}var w=class{elements=[];add(t,r=.5,n="vertical"){let i=typeof t=="string"?document.querySelector(t):t;if(!i)throw new Error("Element not found");return this.elements.push({element:i,speed:r,direction:n}),this}start(){let t=()=>{let r=window.scrollY,n=window.scrollX;this.elements.forEach(({element:i,speed:o,direction:s})=>{if(s==="vertical"){let m=r*o;i.style.transform=`translateY(${-m}px)`;}else {let m=n*o;i.style.transform=`translateX(${-m}px)`;}}),requestAnimationFrame(t);};requestAnimationFrame(t);}};function H(){return new w}var p=class{element;constructor(t){this.element=t;}morphPath(t,r){let n=this.element.getAttribute("d")||"";return new Promise(i=>{new u(this.element).animate([{d:n},{d:t}],{duration:r.duration??500,easing:r.easing??"ease-in-out",fill:"forwards"}),setTimeout(()=>i(),r.duration??500);})}animateStrokeDashoffset(t,r,n=1e3){return new u(this.element).animate([{strokeDashoffset:t},{strokeDashoffset:r}],{duration:n,fill:"forwards"})}drawPath(t=1e3){let r=this.element.getTotalLength?.()||0;return this.element.style.strokeDasharray=`${r}`,this.element.style.strokeDashoffset=`${r}`,this.animateStrokeDashoffset(r,0,t)}animatePoints(t,r=500){let n=new u(this.element),i=this.element.getAttribute("points")||"";return n.animate([{points:i},{points:t}],{duration:r,fill:"forwards"})}scale(t,r){return new u(this.element).animate([{transform:"scale(1)"},{transform:`scale(${t})`}],r)}rotate(t,r){return new u(this.element).animate([{transform:"rotate(0deg)"},{transform:`rotate(${t}deg)`}],r)}};function O(e){let t=typeof e=="string"?document.querySelector(e):e;if(!t)throw new Error("SVG element not found");return new p(t)}function V(e,t,r){let n=r?.stagger??0;return Promise.all(e.map((i,o)=>new Promise(s=>{setTimeout(()=>{let m=new p(i),c={path:t[o]||t[0],duration:r?.duration,easing:r?.easing};m.morphPath(t[o]||t[0],c).then(s);},o*n);})))}var d=class{element;currentTransform={};constructor(t,r={}){this.element=t,this.currentTransform=r,this.applyPerspective(),this.updateTransform();}applyPerspective(){if(this.currentTransform.perspective){let t=this.element.parentElement;t&&(t.style.perspective=`${this.currentTransform.perspective}px`,t.style.perspectiveOrigin="center center");}}buildTransformString(){let t=[];return this.currentTransform.translateZ!==void 0&&t.push(`translateZ(${this.currentTransform.translateZ}px)`),this.currentTransform.rotateX!==void 0&&t.push(`rotateX(${this.currentTransform.rotateX}deg)`),this.currentTransform.rotateY!==void 0&&t.push(`rotateY(${this.currentTransform.rotateY}deg)`),this.currentTransform.rotateZ!==void 0&&t.push(`rotateZ(${this.currentTransform.rotateZ}deg)`),this.currentTransform.scaleZ!==void 0&&t.push(`scaleZ(${this.currentTransform.scaleZ})`),t.join(" ")}updateTransform(){this.element.style.transform=this.buildTransformString(),this.element.style.transformStyle="preserve-3d",this.currentTransform.transformOrigin&&(this.element.style.transformOrigin=this.currentTransform.transformOrigin);}rotateX(t,r){let n=new u(this.element);this.currentTransform.rotateX??0;return n.animate([{transform:this.buildTransformString()},{transform:this.updateRotateX(t)}],r)}rotateY(t,r){let n=new u(this.element);this.currentTransform.rotateY??0;return n.animate([{transform:this.buildTransformString()},{transform:this.updateRotateY(t)}],r)}rotateZ(t,r){return new u(this.element).animate([{transform:this.buildTransformString()},{transform:this.updateRotateZ(t)}],r)}updateRotateX(t){return this.currentTransform.rotateX=t,this.buildTransformString()}updateRotateY(t){return this.currentTransform.rotateY=t,this.buildTransformString()}updateRotateZ(t){return this.currentTransform.rotateZ=t,this.buildTransformString()}translateZ(t,r){return new u(this.element).animate([{transform:this.buildTransformString()},{transform:this.updateTranslateZ(t)}],r)}updateTranslateZ(t){return this.currentTransform.translateZ=t,this.buildTransformString()}flip(t="y",r){let n=new u(this.element),i=t==="x"?"rotateX":"rotateY";return n.animate([{transform:this.buildTransformString()},{transform:this.updateRotate(i,180)}],{duration:600,...r})}updateRotate(t,r){return this.currentTransform[t]=r,this.buildTransformString()}cube(t=200){let r=["front","back","right","left","top","bottom"],n=[];return r.forEach((i,o)=>{let s=document.createElement("div");s.className=`cube-face cube-face-${i}`,s.style.position="absolute",s.style.width=`${t}px`,s.style.height=`${t}px`,s.style.transformStyle="preserve-3d";let m={front:`translateZ(${t/2}px)`,back:`rotateY(180deg) translateZ(${t/2}px)`,right:`rotateY(90deg) translateZ(${t/2}px)`,left:`rotateY(-90deg) translateZ(${t/2}px)`,top:`rotateX(90deg) translateZ(${t/2}px)`,bottom:`rotateX(-90deg) translateZ(${t/2}px)`};s.style.transform=m[i],this.element.appendChild(s),n.push(s);}),n}};function F(e,t){let r=typeof e=="string"?document.querySelector(e):e;if(!r)throw new Error("Element not found");return new d(r,t)}function k(e,t,r){let n=document.createElement("div");n.className="card-front",n.innerHTML=t,n.style.position="absolute",n.style.width="100%",n.style.height="100%",n.style.backfaceVisibility="hidden";let i=document.createElement("div");return i.className="card-back",i.innerHTML=r,i.style.position="absolute",i.style.width="100%",i.style.height="100%",i.style.backfaceVisibility="hidden",i.style.transform="rotateY(180deg)",e.appendChild(n),e.appendChild(i),new d(e,{perspective:1e3})}function _(e,t,r){return Math.min(Math.max(e,t),r)}function j(e,t,r){return e+(t-e)*r}function z(e,t,r){return (e-t)/(r-t)}function J(e,t,r,n,i){return (e-t)*(i-n)/(r-t)+n}function tt(e,t,r,n){return Math.sqrt(Math.pow(r-e,2)+Math.pow(n-t,2))}function et(e,t,r,n){return Math.atan2(n-t,r-e)}function q(e,t){return Math.random()*(t-e)+e}function rt(e,t){return Math.floor(q(e,t+1))}function nt(e){return e*(180/Math.PI)}function it(e){return e*(Math.PI/180)}function ot(e,t){let r=null;return function(...i){let o=()=>{r=null,e(...i);};r!==null&&clearTimeout(r),r=setTimeout(o,t);}}function st(e,t){let r;return function(...i){r||(e(...i),r=true,setTimeout(()=>r=false,t));}}function at(e){let t=null;return function(...n){t===null&&(t=requestAnimationFrame(()=>{e(...n),t=null;}));}}function mt(){return window.matchMedia("(prefers-reduced-motion: reduce)").matches}function ut(){return "animate"in Element.prototype}function lt(){let e=document.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl");if(!t)return "low";let r=t.getExtension("WEBGL_debug_renderer_info");if(!r)return "medium";let n=t.getParameter(r.UNMASKED_RENDERER_WEBGL);if(typeof n=="string"){if(n.includes("NVIDIA")||n.includes("AMD"))return "high";if(n.includes("Intel"))return "medium"}return "medium"}var ft="1.0.0";export{u as AnimationController,h as Easing,T as GestureManager,M as Inertia,w as ParallaxEffect,p as SVGAnimator,E as ScrollAnimation,y as Spring,x as Timeline,d as Transform3D,D as addGestures,et as angle,O as animateSVG,P as calculateSpringDuration,_ as clamp,F as create3D,S as createAnimation,k as createCardFlip,H as createParallax,V as createSVGMorph,L as createScrollAnimation,A as createSpringKeyframes,I as createTimeline,ot as debounce,nt as degrees,tt as distance,lt as getGPUTier,j as lerp,J as map,z as normalize,mt as prefersReducedMotion,C as presets,it as radians,at as rafThrottle,rt as randomInt,q as randomRange,ut as supportsWebAnimations,st as throttle,ft as version};//# sourceMappingURL=index.mjs.map
//# sourceMappingURL=index.mjs.map